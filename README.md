# nominatim-search

## Описание проекта

Проект **nominatim-search** представляет собой **одностраничное приложение** (SPA) для поиска по открытому API **Nominatim**. В этом проекте используется современный стек технологий, включающий **Vite**, **Vue.js**, **Pinia**, **SCSS** и **SSR** (Server-Side Rendering) для более эффективной работы.

Проект позволяет пользователю вводить запрос и искать географические данные по API **Nominatim** с отображением результатов в виде списка. Используется **debounce**, чтобы минимизировать количество запросов во время набора текста. Также есть возможность загрузки с индикатором и заглушка для случая, если результаты поиска отсутствуют.

## Технологии

- **Vite** — сборщик проекта с поддержкой SSR.
- **Vue 3** — для построения интерфейса.
- **Pinia** — для управления состоянием.
- **SCSS** — для стилизации.
- **Nominatim API** — открытое API для поиска географической информации.

## Установка

1. Клонируйте репозиторий:

   ```bash
   git clone https://github.com/impssyn/nominatim-search
   cd nominatim-search
   ```

2. Установите зависимости:

   Если у вас установлен **yarn**:

   ```bash
   yarn
   ```

   Если используете **npm**:

   ```bash
   npm install
   ```

## Запуск проекта

### Запуск через **Yarn**:

1. Для запуска в режиме разработки:

   ```bash
   yarn dev
   ```

   После этого проект будет доступен по адресу: `http://localhost:5173/`.

2. Для сборки проекта:

   - Клиентская сборка:

     ```bash
     yarn build:client
     ```

   - Серверная сборка (для SSR):

     ```bash
     yarn build:server
     ```

3. Для предпросмотра собранного проекта:

   ```bash
   yarn preview
   ```

### Запуск через **Docker**:

1. Для режима разработки (с использованием контейнера):

   ```bash
   make dev
   ```

В этом случае контейнер будет запущен, и проект будет доступен по адресу `http://localhost:5173/`.

2. Для очистки Docker-образов:

   ```bash
   make clean
   ```

## Структура проекта

- **src/** — исходный код приложения
  - **api/** — API-запросы к Nominatim
  - **app/** — основная логика приложения
  - **components/** — компоненты Vue
  - **stores/** — хранилища Pinia.
  - **shared/**
    - **assets/** — статичные ресурсы
    - **consts/** — константы проекта
    - **helpers/** — вспомогательные функции
    - **styles/** — общие стили (SCSS)
    - **types/** — типы TypeScript
- **public/** — публичные файлы
- **dist/** — папка с собранным клиентом и сервером
- **server.ts** — серверная логика для SSR

## Конфигурация и настройки

- **Vite** настроен для поддержки **SSR** и оптимизации клиентской и серверной части.
- **Pinia** используется для управления состоянием приложения.
- Для стилей используется **SCSS** с поддержкой модульных стилей и переменных.

## Сценарии в `package.json`

- **dev** — запускает сервер в режиме разработки.
- **build** — выполняет сборку как для клиента, так и для сервера.
- **build:client** — выполняет сборку только для клиентской части.
- **build:server** — выполняет сборку только для серверной части (SSR).
- **preview** — запускает сервер в продакшн-режиме.

## Docker

Проект поддерживает запуск как в **разработке** через Docker.

- **dev** — сборка и запуск контейнера для разработки.
- **clean** — очистка Docker-образов и данных.
